{% extends 'base.html.twig' %}

{% block title %}Réservation n°{{ reservation.id }}{% endblock %}

{% block body %}
    <h1>Réservation n°{{ reservation.id }}</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Date</th>
                <td>{{ reservation.date ? reservation.date|date('d/m/Y') : '' }}</td>
            </tr>
            <tr>
                <th>Heure</th>
                <td>{{ reservation.heure ? reservation.heure|date('H:i') : '' }}</td>
            </tr>
            <tr>
                <th>Nombre de personnes</th>
                <td>{{ reservation.nbPersonne }}</td>
            </tr>
            <tr>
                <th>Client</th>
                <td>{{ reservation.user ? reservation.user.nom ~ ' ' ~ reservation.user.prenom ~ ' (' ~ reservation.user.email ~ ')' : 'Anonyme' }}</td>
            </tr>
            <tr>
                <th>Statut</th>
                <td>
                    <span class="badge bg-{{ reservation.statut == 'confirmée' ? 'success' : (reservation.statut == 'refusée' ? 'danger' : 'warning') }}">
                        {{ reservation.statut|capitalize }}
                    </span>
                </td>
            </tr>
            <tr>
                <th>Plats commandés</th>
                <td>
                    {% if reservation.plats is empty %}
                        <em>Aucun plat sélectionné</em>
                    {% else %}
                        <ul>
                            {% for plat in reservation.plats %}
                                <li>{{ plat.nom }} — {{ plat.prix }} €</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_reservation_index') }}" class="btn btn-secondary">Retour à la liste</a>
    <a href="{{ path('app_reservation_edit', {'id': reservation.id}) }}" class="btn btn-primary">Modifier</a>

    {{ include('reservation/_delete_form.html.twig') }}
{% endblock %}